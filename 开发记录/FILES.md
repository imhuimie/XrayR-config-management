# ğŸ“ é¡¹ç›®æ–‡ä»¶æ¸…å•

## ğŸ“„ æ–‡æ¡£æ–‡ä»¶

| æ–‡ä»¶å | è¯´æ˜ | é‡è¦æ€§ |
|--------|------|--------|
| README.md | é¡¹ç›®è¯´æ˜æ–‡æ¡£ | â­â­â­â­â­ |
| CLAUDE.md | AI å¼€å‘æŒ‡å— | â­â­â­â­â­ |
| å¼€å‘è®°å½•/QUICKSTART.md | å¿«é€Ÿå¼€å§‹æŒ‡å— | â­â­â­â­â­ |
| å¼€å‘è®°å½•/USAGE.md | è¯¦ç»†ä½¿ç”¨æ•™ç¨‹ | â­â­â­â­ |
| å¼€å‘è®°å½•/PROJECT_OVERVIEW.md | é¡¹ç›®æ¦‚è§ˆ | â­â­â­ |
| å¼€å‘è®°å½•/FILES.md | æ–‡ä»¶æ¸…å•ï¼ˆæœ¬æ–‡ä»¶ï¼‰ | â­â­ |
| config-example.yml | é…ç½®ç¤ºä¾‹ | â­â­â­â­ |

## ğŸ”§ é…ç½®æ–‡ä»¶

| æ–‡ä»¶å | è¯´æ˜ | é‡è¦æ€§ |
|--------|------|--------|
| .env | ç¯å¢ƒå˜é‡é…ç½® | â­â­â­â­â­ |
| .env.example | ç¯å¢ƒå˜é‡æ¨¡æ¿ | â­â­â­â­ |
| .gitignore | Git å¿½ç•¥æ–‡ä»¶ | â­â­â­ |
| package.json | é¡¹ç›®ä¾èµ–é…ç½® | â­â­â­â­â­ |

## ğŸš€ å¯åŠ¨è„šæœ¬

| æ–‡ä»¶å | è¯´æ˜ | ç”¨é€” |
|--------|------|------|
| install.bat | å®‰è£…è„šæœ¬ | å®‰è£…æ‰€æœ‰ä¾èµ– |
| install.sh | Linux/Mac å®‰è£…è„šæœ¬ | å®‰è£…æ‰€æœ‰ä¾èµ– |
| install.ps1 | PowerShell å®‰è£…è„šæœ¬ | å®‰è£…æ‰€æœ‰ä¾èµ– |
| start.bat | å¯åŠ¨è„šæœ¬ | å¯åŠ¨å¼€å‘æœåŠ¡å™¨ |
| start-server.bat | åç«¯å¯åŠ¨è„šæœ¬ | ä»…å¯åŠ¨åç«¯ |
| start-client.bat | å‰ç«¯å¯åŠ¨è„šæœ¬ | ä»…å¯åŠ¨å‰ç«¯ |

## ğŸ–¥ï¸ åç«¯æ–‡ä»¶

### ä¸»æ–‡ä»¶
```
server/
â”œâ”€â”€ index.js                    # æœåŠ¡å™¨å…¥å£æ–‡ä»¶
```

### è·¯ç”±æ–‡ä»¶
```
server/routes/
â”œâ”€â”€ auth.js                     # è®¤è¯è·¯ç”±ï¼ˆç™»å½•ã€éªŒè¯ï¼‰
â”œâ”€â”€ panels.js                   # é¢æ¿ç®¡ç†è·¯ç”±ï¼ˆCRUDï¼‰
â”œâ”€â”€ serverGroups.js             # æœåŠ¡å™¨åˆ†ç»„è·¯ç”±ï¼ˆCRUDï¼‰
â”œâ”€â”€ servers.js                  # æœåŠ¡å™¨ç®¡ç†è·¯ç”±ï¼ˆCRUD + SSHä¸Šä¼ ï¼‰
â”œâ”€â”€ nodes.js                    # èŠ‚ç‚¹ç®¡ç†è·¯ç”±ï¼ˆCRUD + å¯¼å…¥ï¼‰
â”œâ”€â”€ config.js                   # é…ç½®ç”Ÿæˆè·¯ç”±
â”œâ”€â”€ ssh.js                      # SSH è¿æ¥è·¯ç”±
â”œâ”€â”€ batch.js                    # æ‰¹é‡æ“ä½œè·¯ç”±
â””â”€â”€ settings.js                 # ç³»ç»Ÿè®¾ç½®è·¯ç”±
```

### ä¸­é—´ä»¶
```
server/middleware/
â””â”€â”€ auth.js                     # JWT è®¤è¯ä¸­é—´ä»¶
```

### å·¥å…·å‡½æ•°
```
server/utils/
â”œâ”€â”€ dataStore.js                # æ•°æ®å­˜å‚¨å·¥å…·ï¼ˆå·¥å‚æ¨¡å¼ï¼‰
â”œâ”€â”€ crudFactory.js              # CRUD è·¯ç”±å·¥å‚å‡½æ•°
â””â”€â”€ validator.js                # è¾“å…¥éªŒè¯å·¥å…·ï¼ˆå®‰å…¨æ¨¡å—ï¼Œv1.1.0 æ–°å¢ï¼‰
```

## ğŸ¨ å‰ç«¯æ–‡ä»¶

### é…ç½®æ–‡ä»¶
```
client/
â”œâ”€â”€ index.html                  # HTML æ¨¡æ¿
â”œâ”€â”€ vite.config.js              # Vite é…ç½®
â””â”€â”€ package.json                # å‰ç«¯ä¾èµ–
```

### æºä»£ç 
```
client/src/
â”œâ”€â”€ main.jsx                    # åº”ç”¨å…¥å£
â”œâ”€â”€ App.jsx                     # æ ¹ç»„ä»¶
â””â”€â”€ index.css                   # å…¨å±€æ ·å¼ï¼ˆCSS å˜é‡ + BEM å‘½åï¼‰
```

### é¡µé¢ç»„ä»¶
```
client/src/pages/
â”œâ”€â”€ Login.jsx                   # ç™»å½•é¡µé¢
â”œâ”€â”€ Dashboard.jsx               # ä¸»æ§åˆ¶å°é¡µé¢ï¼ˆä½¿ç”¨è‡ªå®šä¹‰ Hooksï¼‰
â””â”€â”€ BatchManagement.jsx         # æ‰¹é‡ç®¡ç†é¡µé¢
```

### UI ç»„ä»¶
```
client/src/components/
â”œâ”€â”€ ListCard.jsx                # é€šç”¨åˆ—è¡¨å¡ç‰‡ç»„ä»¶ï¼ˆæ–°å¢ï¼‰
â”œâ”€â”€ PanelList.jsx               # é¢æ¿åˆ—è¡¨ç»„ä»¶ï¼ˆé‡æ„ï¼‰
â”œâ”€â”€ ServerGroupList.jsx         # æœåŠ¡å™¨åˆ†ç»„åˆ—è¡¨ç»„ä»¶ï¼ˆé‡æ„ï¼‰
â”œâ”€â”€ ServerList.jsx              # æœåŠ¡å™¨åˆ—è¡¨ç»„ä»¶ï¼ˆé‡æ„ï¼‰
â”œâ”€â”€ NodeList.jsx                # èŠ‚ç‚¹åˆ—è¡¨ç»„ä»¶ï¼ˆé‡æ„ï¼‰
â”œâ”€â”€ PanelModal.jsx              # é¢æ¿ç¼–è¾‘å¼¹çª—
â”œâ”€â”€ ServerGroupModal.jsx        # åˆ†ç»„ç¼–è¾‘å¼¹çª—
â”œâ”€â”€ ServerModal.jsx             # æœåŠ¡å™¨ç¼–è¾‘å¼¹çª—
â”œâ”€â”€ NodeModal.jsx               # èŠ‚ç‚¹ç¼–è¾‘å¼¹çª—
â”œâ”€â”€ ConfigViewer.jsx            # é…ç½®æŸ¥çœ‹å™¨
â”œâ”€â”€ SSHModal.jsx                # SSH è¿æ¥å¼¹çª—
â”œâ”€â”€ SettingsModal.jsx           # ç³»ç»Ÿè®¾ç½®å¼¹çª—
â”œâ”€â”€ ImportNodesModal.jsx        # å¯¼å…¥èŠ‚ç‚¹å¼¹çª—
â”œâ”€â”€ ConfirmDialog.jsx           # ç¡®è®¤å¯¹è¯æ¡†
â””â”€â”€ Toast.jsx                   # æ¶ˆæ¯æç¤ºç»„ä»¶
```

### è‡ªå®šä¹‰ Hooksï¼ˆæ–°å¢ï¼‰
```
client/src/hooks/
â”œâ”€â”€ index.js                    # Hooks ç»Ÿä¸€å¯¼å‡º
â”œâ”€â”€ useToast.js                 # Toast é€šçŸ¥ç®¡ç†
â”œâ”€â”€ useConfirmDialog.js         # ç¡®è®¤å¯¹è¯æ¡†ç®¡ç†
â”œâ”€â”€ useCrudModal.js             # CRUD æ¨¡æ€æ¡†çŠ¶æ€ç®¡ç†
â””â”€â”€ useApiData.js               # API æ•°æ®åŠ è½½
```

### å·¥å…·å‡½æ•°
```
client/src/utils/
â””â”€â”€ api.js                      # API è¯·æ±‚å°è£…
```

### æ ·å¼æ–‡ä»¶
```
client/src/styles/
â”œâ”€â”€ BatchManagement.css         # æ‰¹é‡ç®¡ç†é¡µé¢æ ·å¼
â”œâ”€â”€ ConfirmDialog.css           # ç¡®è®¤å¯¹è¯æ¡†æ ·å¼
â””â”€â”€ Toast.css                   # Toast ç»„ä»¶æ ·å¼
```

## ğŸ“¦ æ•°æ®æ–‡ä»¶ï¼ˆè¿è¡Œæ—¶ç”Ÿæˆï¼‰

```
data/
â”œâ”€â”€ panels.json                 # é¢æ¿æ•°æ®
â”œâ”€â”€ serverGroups.json           # æœåŠ¡å™¨åˆ†ç»„æ•°æ®
â”œâ”€â”€ servers.json                # æœåŠ¡å™¨æ•°æ®
â”œâ”€â”€ nodes.json                  # èŠ‚ç‚¹æ•°æ®
â””â”€â”€ settings.json               # ç³»ç»Ÿè®¾ç½®æ•°æ®
```

## ğŸ“Š æ–‡ä»¶ç»Ÿè®¡

### åç«¯
- è·¯ç”±æ–‡ä»¶: 9 ä¸ª
- ä¸­é—´ä»¶: 1 ä¸ª
- å·¥å…·å‡½æ•°: 3 ä¸ªï¼ˆå« validator.jsï¼‰
- **æ€»è®¡**: 14 ä¸ªæ–‡ä»¶

### å‰ç«¯
- é¡µé¢ç»„ä»¶: 3 ä¸ª
- UI ç»„ä»¶: 15 ä¸ª
- è‡ªå®šä¹‰ Hooks: 5 ä¸ª
- å·¥å…·å‡½æ•°: 1 ä¸ª
- æ ·å¼æ–‡ä»¶: 4 ä¸ª
- é…ç½®æ–‡ä»¶: 3 ä¸ª
- **æ€»è®¡**: 31 ä¸ªæ–‡ä»¶

### æ–‡æ¡£
- è¯´æ˜æ–‡æ¡£: 7 ä¸ª
- é…ç½®ç¤ºä¾‹: 1 ä¸ª
- **æ€»è®¡**: 8 ä¸ªæ–‡ä»¶

### è„šæœ¬
- å¯åŠ¨è„šæœ¬: 6 ä¸ª

## ğŸ” æ–‡ä»¶è¯¦ç»†è¯´æ˜

### æ ¸å¿ƒæ–‡ä»¶

#### server/index.js
- æœåŠ¡å™¨å…¥å£
- é…ç½®ä¸­é—´ä»¶ï¼ˆå«å®‰å…¨ä¸­é—´ä»¶ï¼‰
- æ³¨å†Œè·¯ç”±
- å¯åŠ¨æœåŠ¡
- å…¨å±€é”™è¯¯å¤„ç†
- Helmet å®‰å…¨å¤´é…ç½®
- CORS é…ç½®
- é€Ÿç‡é™åˆ¶é…ç½®

#### server/utils/dataStore.jsï¼ˆé‡æ„ï¼‰
- ä½¿ç”¨å·¥å‚æ¨¡å¼åˆ›å»ºæ•°æ®è®¿é—®å™¨
- ç»Ÿä¸€çš„ JSON è¯»å†™å‡½æ•°
- é›†ä¸­ç®¡ç†æ•°æ®æ–‡ä»¶è·¯å¾„

#### server/utils/crudFactory.js
- CRUD è·¯ç”±å·¥å‚å‡½æ•°
- æ”¯æŒçˆ¶çº§ ID è¿‡æ»¤
- æ”¯æŒåˆ›å»º/æ›´æ–°é’©å­
- æ¶ˆé™¤è·¯ç”±é‡å¤ä»£ç 

#### server/utils/validator.jsï¼ˆv1.1.0 æ–°å¢ï¼‰
- è¾“å…¥éªŒè¯å·¥å…·æ¨¡å—
- `isValidFilePath()` - é˜²æ­¢è·¯å¾„éå†æ”»å‡»
- `isValidServerAddress()` - éªŒè¯æœåŠ¡å™¨åœ°å€æ ¼å¼
- `isValidCommand()` - æ£€æµ‹å±é™©å‘½ä»¤æ¨¡å¼
- `isValidId()` - éªŒè¯ ID æ ¼å¼
- `isValidUrl()` - éªŒè¯ URL æ ¼å¼
- `isValidLength()` - éªŒè¯å­—ç¬¦ä¸²é•¿åº¦
- `escapeHtml()` - é˜²æ­¢ XSS æ”»å‡»

#### client/src/App.jsx
- åº”ç”¨æ ¹ç»„ä»¶
- è·¯ç”±é…ç½®
- è®¤è¯çŠ¶æ€ç®¡ç†

### é‡è¦ç»„ä»¶

#### client/src/components/ListCard.jsxï¼ˆæ–°å¢ï¼‰
- é€šç”¨åˆ—è¡¨å¡ç‰‡ç»„ä»¶
- ç»Ÿä¸€åˆ—è¡¨å±•ç¤ºæ ·å¼
- æ”¯æŒè‡ªå®šä¹‰å†…å®¹æ¸²æŸ“
- æ”¯æŒè‡ªå®šä¹‰æ“ä½œæŒ‰é’®
- æä¾› ActionButton å­ç»„ä»¶

#### client/src/pages/Dashboard.jsxï¼ˆé‡æ„ï¼‰
- ä½¿ç”¨è‡ªå®šä¹‰ Hooks ç®€åŒ–çŠ¶æ€ç®¡ç†
- ä½¿ç”¨ CSS ç±»æ›¿ä»£å†…è”æ ·å¼
- ä»£ç ç»“æ„æ›´æ¸…æ™°

### è‡ªå®šä¹‰ Hooks

#### client/src/hooks/useToast.js
- Toast é€šçŸ¥çŠ¶æ€ç®¡ç†
- showToast(message, type) æ–¹æ³•
- hideToast() æ–¹æ³•

#### client/src/hooks/useConfirmDialog.js
- ç¡®è®¤å¯¹è¯æ¡†çŠ¶æ€ç®¡ç†
- showConfirm(options) æ–¹æ³•
- confirmDelete(entityName, onConfirm) å¿«æ·æ–¹æ³•

#### client/src/hooks/useCrudModal.js
- CRUD æ¨¡æ€æ¡†çŠ¶æ€ç®¡ç†
- openForCreate() æ–¹æ³•
- openForEdit(item) æ–¹æ³•
- close() æ–¹æ³•

#### client/src/hooks/useApiData.js
- API æ•°æ®åŠ è½½å’Œ CRUD æ“ä½œ
- load(), create(), update(), remove() æ–¹æ³•
- æ”¯æŒè‡ªåŠ¨åŠ è½½

### å·¥å…·æ–‡ä»¶

#### client/src/utils/api.js
- Axios å°è£…
- è¯·æ±‚æ‹¦æˆªï¼ˆæ·»åŠ  Tokenï¼‰
- å“åº”å¤„ç†
- é”™è¯¯å¤„ç†ï¼ˆ401 è‡ªåŠ¨è·³è½¬ç™»å½•ï¼‰

## ğŸ“ æ–‡ä»¶ä¿®æ”¹å»ºè®®

### å¿…é¡»ä¿®æ”¹
1. âœ… `.env` - ä¿®æ”¹å¯†ç å’Œå¯†é’¥

### å»ºè®®ä¿®æ”¹
1. `server/routes/auth.js` - å®ç°æ›´å¤æ‚çš„è®¤è¯é€»è¾‘
2. `client/src/index.css` - è‡ªå®šä¹‰æ ·å¼ä¸»é¢˜ï¼ˆä¿®æ”¹ CSS å˜é‡ï¼‰

### å¯é€‰ä¿®æ”¹
1. `server/utils/dataStore.js` - æ”¹ç”¨æ•°æ®åº“å­˜å‚¨
2. `client/src/components/*` - ä¼˜åŒ– UI ç»„ä»¶

## ğŸ” æ•æ„Ÿæ–‡ä»¶

ä»¥ä¸‹æ–‡ä»¶åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œä¸åº”æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ï¼š

- `.env` - ç¯å¢ƒå˜é‡ï¼ˆåŒ…å«å¯†ç ï¼‰
- `data/` - æ•°æ®ç›®å½•ï¼ˆåŒ…å«é…ç½®ä¿¡æ¯ï¼‰

è¿™äº›æ–‡ä»¶å·²åœ¨ `.gitignore` ä¸­é…ç½®å¿½ç•¥ã€‚

## ğŸ“¦ ä¾èµ–æ–‡ä»¶

ä»¥ä¸‹ç›®å½•åŒ…å«ä¾èµ–åŒ…ï¼Œä¸åº”æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ï¼š

- `node_modules/` - åç«¯ä¾èµ–
- `client/node_modules/` - å‰ç«¯ä¾èµ–
- `client/dist/` - å‰ç«¯æ„å»ºäº§ç‰©

## ğŸ¯ å…³é”®æ–‡ä»¶è·¯å¾„

### å¯åŠ¨é¡¹ç›®
```
start.bat (Windows)
npm run dev (Linux/Mac)
```

### é…ç½®æ–‡ä»¶
```
.env
```

### æ•°æ®æ–‡ä»¶
```
data/panels.json
data/serverGroups.json
data/servers.json
data/nodes.json
data/settings.json
```

## ğŸ“š é˜…è¯»é¡ºåºå»ºè®®

1. **æ–°æ‰‹**: QUICKSTART.md â†’ README.md â†’ USAGE.md
2. **å¼€å‘è€…**: CLAUDE.md â†’ PROJECT_OVERVIEW.md â†’ æºä»£ç 
3. **ç”¨æˆ·**: QUICKSTART.md â†’ USAGE.md â†’ config-example.yml

---

**æ–‡ä»¶æ€»æ•°**: çº¦ 65+ ä¸ªæ ¸å¿ƒæ–‡ä»¶
**ä»£ç è¡Œæ•°**: çº¦ 4500+ è¡Œ
**æ–‡æ¡£å­—æ•°**: çº¦ 18000+ å­—
**æœ€åæ›´æ–°**: 2025-12-07
**ç‰ˆæœ¬**: 1.1.0 (å®‰å…¨å¢å¼ºç‰ˆ)
