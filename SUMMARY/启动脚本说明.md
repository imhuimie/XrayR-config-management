# å¯åŠ¨è„šæœ¬è¯´æ˜

## ğŸ“ å¯ç”¨çš„å¯åŠ¨è„šæœ¬

### 1. `start.bat` - ä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰

**åŠŸèƒ½**:
- âœ… è‡ªåŠ¨æ£€æŸ¥å¹¶åœæ­¢å ç”¨ç«¯å£çš„è¿›ç¨‹
- âœ… è‡ªåŠ¨æ£€æŸ¥ä¾èµ–æ˜¯å¦å®‰è£…
- âœ… åŒæ—¶å¯åŠ¨å‰åç«¯æœåŠ¡
- âœ… æ˜¾ç¤ºè®¿é—®åœ°å€å’Œé»˜è®¤å¯†ç 

**ä½¿ç”¨æ–¹æ³•**:
```cmd
start.bat
```

**è¾“å‡ºç¤ºä¾‹**:
```
========================================
   XrayR é…ç½®ç”Ÿæˆå™¨ - å¿«é€Ÿå¯åŠ¨è„šæœ¬
========================================

[1/4] æ£€æŸ¥å¹¶åœæ­¢å ç”¨ç«¯å£çš„è¿›ç¨‹...
âœ… ç«¯å£æ£€æŸ¥å®Œæˆ

[2/4] æ£€æŸ¥ä¾èµ–å®‰è£…...
âœ… ä¾èµ–æ£€æŸ¥å®Œæˆ

[3/4] å¯åŠ¨æœåŠ¡...

åç«¯æœåŠ¡: http://localhost:61145
å‰ç«¯ç•Œé¢: http://localhost:61146
é»˜è®¤å¯†ç : admin123

æŒ‰ Ctrl+C åœæ­¢æœåŠ¡
========================================
```

---

### 2. `start-server.bat` - ä»…å¯åŠ¨åç«¯

**åŠŸèƒ½**:
- âœ… æ£€æŸ¥å¹¶åœæ­¢å ç”¨ 61145 ç«¯å£çš„è¿›ç¨‹
- âœ… å¯åŠ¨åç«¯æœåŠ¡å™¨

**ä½¿ç”¨æ–¹æ³•**:
```cmd
start-server.bat
```

**é€‚ç”¨åœºæ™¯**:
- å‰ç«¯å·²ç»åœ¨è¿è¡Œï¼Œåªéœ€è¦é‡å¯åç«¯
- è°ƒè¯•åç«¯ä»£ç 
- åˆ†åˆ«å¯åŠ¨å‰åç«¯

---

### 3. `start-client.bat` - ä»…å¯åŠ¨å‰ç«¯

**åŠŸèƒ½**:
- âœ… æ£€æŸ¥å¹¶åœæ­¢å ç”¨ 61146 ç«¯å£çš„è¿›ç¨‹
- âœ… å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨

**ä½¿ç”¨æ–¹æ³•**:
```cmd
start-client.bat
```

**é€‚ç”¨åœºæ™¯**:
- åç«¯å·²ç»åœ¨è¿è¡Œï¼Œåªéœ€è¦é‡å¯å‰ç«¯
- è°ƒè¯•å‰ç«¯ä»£ç 
- åˆ†åˆ«å¯åŠ¨å‰åç«¯

---

### 4. `install.bat` - å®‰è£…ä¾èµ–

**åŠŸèƒ½**:
- âœ… æ£€æŸ¥ Node.js æ˜¯å¦å®‰è£…
- âœ… å®‰è£…åç«¯ä¾èµ–
- âœ… å®‰è£…å‰ç«¯ä¾èµ–
- âœ… åˆ›å»º data ç›®å½•

**ä½¿ç”¨æ–¹æ³•**:
```cmd
install.bat
```

**é€‚ç”¨åœºæ™¯**:
- é¦–æ¬¡å®‰è£…é¡¹ç›®
- é‡æ–°å®‰è£…ä¾èµ–
- ä¾èµ–æŸåéœ€è¦é‡è£…

---

## ğŸ”§ ç«¯å£é…ç½®

### å½“å‰ç«¯å£
- **åç«¯**: 61145
- **å‰ç«¯**: 61146

### ä¿®æ”¹ç«¯å£

#### ä¿®æ”¹åç«¯ç«¯å£
ç¼–è¾‘ `server/index.js`:
```javascript
const PORT = process.env.PORT || 61145; // ä¿®æ”¹è¿™é‡Œ
```

#### ä¿®æ”¹å‰ç«¯ç«¯å£
ç¼–è¾‘ `client/vite.config.js`:
```javascript
export default defineConfig({
  plugins: [react()],
  server: {
    port: 61146, // ä¿®æ”¹è¿™é‡Œ
    proxy: {
      '/api': {
        target: 'http://localhost:61145', // åŒæ—¶ä¿®æ”¹ä»£ç†ç›®æ ‡
        changeOrigin: true
      }
    }
  }
})
```

---

## âš ï¸ å¸¸è§é—®é¢˜

### 1. ç«¯å£è¢«å ç”¨

**é—®é¢˜**: å¯åŠ¨æ—¶æç¤ºç«¯å£è¢«å ç”¨

**è§£å†³æ–¹æ¡ˆ**:
```cmd
# æ–¹æ¡ˆ1: ä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆä¼šè‡ªåŠ¨åœæ­¢å ç”¨ç«¯å£çš„è¿›ç¨‹ï¼‰
start.bat

# æ–¹æ¡ˆ2: æ‰‹åŠ¨æŸ¥æ‰¾å¹¶åœæ­¢è¿›ç¨‹
netstat -ano | findstr :61145
taskkill /F /PID <è¿›ç¨‹ID>
```

### 2. npm run dev æ— æ³•å¯åŠ¨

**é—®é¢˜**: è¿è¡Œ `npm run dev` åæ²¡æœ‰ååº”

**è§£å†³æ–¹æ¡ˆ**:
```cmd
# æ–¹æ¡ˆ1: ä½¿ç”¨ start.bat
start.bat

# æ–¹æ¡ˆ2: åˆ†åˆ«å¯åŠ¨
start-server.bat  # ç»ˆç«¯1
start-client.bat  # ç»ˆç«¯2

# æ–¹æ¡ˆ3: æ£€æŸ¥ä¾èµ–
npm install
cd client
npm install
```

### 3. å‰ç«¯ç«¯å£ä¸æ˜¯ 61146

**é—®é¢˜**: Vite è‡ªåŠ¨é€‰æ‹©äº†å…¶ä»–ç«¯å£ï¼ˆå¦‚ 61149ï¼‰

**åŸå› **: 61146 ç«¯å£è¢«å ç”¨ï¼ŒVite è‡ªåŠ¨é€‰æ‹©äº†ä¸‹ä¸€ä¸ªå¯ç”¨ç«¯å£

**è§£å†³æ–¹æ¡ˆ**:
```cmd
# ä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼Œä¼šè‡ªåŠ¨åœæ­¢å ç”¨ç«¯å£çš„è¿›ç¨‹
start.bat
```

### 4. åç«¯æ— æ³•è¿æ¥

**é—®é¢˜**: å‰ç«¯æ˜¾ç¤ºç½‘ç»œé”™è¯¯

**æ£€æŸ¥æ­¥éª¤**:
1. ç¡®è®¤åç«¯æ˜¯å¦å¯åŠ¨: è®¿é—® http://localhost:61145/api/health
2. æ£€æŸ¥ä»£ç†é…ç½®: `client/vite.config.js` ä¸­çš„ proxy.target
3. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

---

## ğŸ’¡ ä½¿ç”¨å»ºè®®

### å¼€å‘ç¯å¢ƒ
```cmd
# æ¨èä½¿ç”¨ä¸€é”®å¯åŠ¨
start.bat
```

### ç”Ÿäº§ç¯å¢ƒ
```cmd
# ä»…å¯åŠ¨åç«¯
node server/index.js

# æˆ–ä½¿ç”¨ PM2
pm2 start server/index.js --name xrayr-backend
```

### è°ƒè¯•æ¨¡å¼
```cmd
# ç»ˆç«¯1: å¯åŠ¨åç«¯ï¼ˆå¯ä»¥çœ‹åˆ°åç«¯æ—¥å¿—ï¼‰
start-server.bat

# ç»ˆç«¯2: å¯åŠ¨å‰ç«¯ï¼ˆå¯ä»¥çœ‹åˆ°å‰ç«¯æ—¥å¿—ï¼‰
start-client.bat
```

---

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°å…¶ä»–é—®é¢˜ï¼Œè¯·æŸ¥çœ‹:
- [Windows ç¯å¢ƒè¦æ±‚](Windowsç¯å¢ƒè¦æ±‚.md)
- [å¿«é€Ÿä½¿ç”¨æŒ‡å—](å¿«é€Ÿä½¿ç”¨æŒ‡å—.md)
- [é¡¹ç›®æ€»ç»“](é¡¹ç›®æ€»ç»“.md)

---

**æœ€åæ›´æ–°**: 2025-11-21

